


<!DOCTYPE html>
<html lang="zh-CN">
<head>
    
    <meta name="author" content="Sally">
    
    <meta name="description" content="style定义在单个视图或者控件上

theme用于activity或整个app上

由于作用范围的不同，theme就需要比style包含更多的定义属性值的item


使用系统风格和主题use platform styles and themes

to make your activity lo">
    
    

    
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>android style和theme | senbaisang · cooooooooder</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">

    

    <!-- Javascript -->
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="/js/jquery.backstretch.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/jquery.headroom.min.js"></script>
    <script src="/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://senbaisang.github.io" title="senbaisang">senbaisang</a>
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                <p class="navbar-text pull-right">cooooooooder</p>

                <ul class="nav navbar-nav">
                    
                    <li id="nav-index"><a href="/">首页</a></li>
                    
                    <li id="nav-archives"><a href="/archives">归档</a></li>
                    
                    <li id="nav-tags"><a href="/tags">标签</a></li>
                    
                    <li id="nav-categories"><a href="/categories">分类</a></li>
                    

                    <li><a href="https://github.com/senbaisang" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <script>
    var backRoot = "/images/background/";
    var backArray = [ "1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg", "6.jpg", "8.jpg",  ];

    $(function() {
        // page-id...
        var pageId = "2016/04/28/android-style和theme/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";

        $("#nav-" + pageId).addClass("active");
    });
    </script>


  <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>android style和theme</h1>

        <div class="time-info">
发表于:<time datetime="2016-04-28T01:12:15.000Z" itemprop="datePublished">2016-04-28</time>，更新于:<time datetime="2017-08-26T14:04:16.000Z" itemprop="dateModified">2017-08-26</time>，By <a href="http://senbaisang.github.io" title="Sally">Sally</a>
        </div>

        <div class="post-body-inner">
            <div id="toc" class="toc-article well">
                <strong class="toc-title">大纲</strong>
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#使用系统风格和主题"><span class="toc-number">1.</span> <span class="toc-text">使用系统风格和主题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#自定义style_&_theme"><span class="toc-number">2.</span> <span class="toc-text">自定义style & theme</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#在res/values文件夹下定义styles"><span class="toc-number">2.1.</span> <span class="toc-text">在res/values文件夹下定义styles</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#样式(style)的继承_inheritance"><span class="toc-number">3.</span> <span class="toc-text">样式(style)的继承 inheritance</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#通过parent标识父style"><span class="toc-number">3.1.</span> <span class="toc-text">通过parent标识父style</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通过style名字作为前缀，然后通过-链接新定义的style名称"><span class="toc-number">3.2.</span> <span class="toc-text">通过style名字作为前缀，然后通过.链接新定义的style名称</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#两种继承方式的比较"><span class="toc-number">4.</span> <span class="toc-text">两种继承方式的比较</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#两种继承方式的混合效果"><span class="toc-number">5.</span> <span class="toc-text">两种继承方式的混合效果</span></a></li></ol>
            </div>

            <ul>
<li><p>style定义在单个视图或者控件上</p>
</li>
<li><p>theme用于activity或整个app上</p>
</li>
<li><p>由于作用范围的不同，theme就需要比style包含更多的定义属性值的item</p>
</li>
</ul>
<h1 id="使用系统风格和主题">使用系统风格和主题</h1><p>use platform styles and themes</p>
<ul>
<li>to make your activity look like a dialog box:</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.Dialog"</span> &gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>to make your activity have a transparent background:</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:theme</span>=<span class="value">"@android:style/Theme.Translucent"</span> &gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>to apply your own custom theme defined in <code>/res/values/styles.xml</code></li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:theme</span>=<span class="value">"@style/customTheme"</span> &gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>to apply theme to your entire app(all activities), add the <code>android:theme</code> attribute to the <code>&lt;application&gt;</code> element:</li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="type">application</span> android:theme=<span class="string">"@style/customTheme"</span> &gt;</span><br></pre></td></tr></table></figure>
<h1 id="自定义style_&amp;_theme">自定义style &amp; theme</h1><h2 id="在res/values文件夹下定义styles">在<code>res/values</code>文件夹下定义styles</h2><ul>
<li>创建style资源文件</li>
</ul>
<p><code>parent</code> 属性是可选的，指定其父样式，如果需要，可以重写继承的样式</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml <span class="property">version</span>=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;resources&gt;</span><br><span class="line">  &lt;style <span class="property">name</span>=<span class="string">"CustomTheme"</span> parent=<span class="string">"@android:style/TextApperarance.Medium"</span>&gt;</span><br><span class="line">    &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:layout_width"</span>&gt;martch_parent&lt;/<span class="property">item</span>&gt;</span><br><span class="line">    &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:layout_height"</span>&gt;wrap_content&lt;/<span class="property">item</span>&gt;</span><br><span class="line">    &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:textColor"</span>&gt;<span class="comment">#00FF00&lt;/item&gt;</span></span><br><span class="line">    &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:typeface"</span>&gt;monospace&lt;/<span class="property">item</span>&gt;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用</li>
</ul>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">  style=<span class="string">"<span class="variable">@style</span>/CustomTheme"</span></span><br><span class="line">  android:text=<span class="string">"<span class="variable">@string</span>/hello"</span>/&gt;</span><br></pre></td></tr></table></figure>
<h1 id="样式(style)的继承_inheritance">样式(style)的继承 inheritance</h1><p>可以继承一个已经存在的style，添加或者改变一些attribute<br>也可以继承自己创建的style</p>
<ul>
<li>一般的: 如果是继承已有的style，需要使用<code>parent</code>, 如果是继承自己创建的，如<code>GreenText</code>，就不必使用parent了，命名带上前缀就ok了</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=<span class="string">"CreenText"</span> parent=<span class="string">"@android:style/TextAppearance"</span>&gt;</span><br><span class="line">  &lt;item name:android=<span class="string">"android:textColor"</span>&gt;<span class="hexcolor">#00FF00</span>&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style name=<span class="string">"CreenText.Red"</span>&gt;</span><br><span class="line">  &lt;item name=<span class="string">"androis:textColor"</span>&gt;<span class="hexcolor">#FF0000</span>&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="通过parent标识父style">通过<code>parent</code>标识父style</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=<span class="string">"GreenText"</span> parent=<span class="string">"@android:style/TextAppearance"</span>&gt;</span><br><span class="line">  &lt;item name=<span class="string">"android:textColor"</span>&gt;<span class="hexcolor">#00FF00</span>&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="通过style名字作为前缀，然后通过-链接新定义的style名称">通过style名字作为前缀，然后通过<code>.</code>链接新定义的style名称</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=<span class="string">"CodeFont.Red"</span>&gt;</span><br><span class="line">  &lt;item name=<span class="string">"android:textColor"</span>&gt;<span class="hexcolor">#FF0000</span>00&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>这种方式可以无限链接子style来实现更多层的继承</li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style <span class="property">name</span>=<span class="string">"CodeFont.Red.Big"</span>&gt;</span><br><span class="line">    &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:textSize"</span>&gt;<span class="number">30</span>sp&lt;/<span class="property">item</span>&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h1 id="两种继承方式的比较">两种继承方式的比较</h1><ul>
<li><p>相对于第一种(parent)继承方式，第二种(style名字作为前缀)继承方式作出的限制就是：style必须是由自己定义的，或者说父style和子style必须是定义在同一个程序内，不能是应用第三方或系统的style。(毕竟对于系统的style的引用是需要加上android:前缀作为命名空间的)</p>
</li>
<li><p>其次，在使用style时，对于第二种方式定义的style，必须引用其完全的名字，即必须包含完整的前缀和名字。</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">TextView</span></span><br><span class="line">    <span class="attribute">style</span>=<span class="value">"@style/CodeFont.Red.Big"</span></span><br><span class="line">/&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>android对于第一种(parent)继承方式并没有限制，所以第二种继承方式(style名字作为前缀)定义的style也可以转成第一种方式</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 这种写法，起名无力。一不小心，名字一简洁，就冲突了-_-|||</span><br><span class="line"><span class="tag">&lt;<span class="title">style</span> <span class="attribute">name</span>=<span class="value">"Big"</span> <span class="attribute">parent</span>=<span class="value">"CodeFont.Red"</span>&gt;</span><span class="css"></span><br><span class="line">  &lt;<span class="tag">item</span> <span class="tag">name</span>="<span class="rule"><span class="attribute">android</span>:<span class="value">textSize<span class="string">"&gt;30sp&lt;/item&gt;</span><br><span class="line"></span></span></span></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="两种继承方式的混合效果">两种继承方式的混合效果</h1><ul>
<li>demo</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// style</span></span><br><span class="line">&lt;style name=<span class="string">"SuperStyleOne"</span>&gt;</span><br><span class="line">  &lt;item name=<span class="string">"custom_color"</span>&gt;<span class="hexcolor">#0f0</span>&lt;/item&gt;</span><br><span class="line">  &lt;item name=<span class="string">"custom_text"</span>&gt;hello word!!!&lt;/item&gt;</span><br><span class="line">  &lt;item name=<span class="string">"custom_size"</span>&gt;<span class="number">20s</span>p&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style name=<span class="string">"SuperStyleTwo"</span>&gt;</span><br><span class="line">  &lt;item name=<span class="string">"custom_text"</span>&gt;hello sally!!!&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style name=<span class="string">"SuperStyleOne.SubOne"</span>&gt;</span><br><span class="line">  &lt;item name=<span class="string">"custom_color"</span>&gt;<span class="hexcolor">#050</span>&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style name=<span class="string">"SuperStyleOne.SubTwo"</span> parent=<span class="string">"SuperStyleTwo"</span>&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style name=<span class="string">"SuperStyleOne.SubThree"</span> parent=<span class="string">"SuperStyleTwo"</span>&gt;</span><br><span class="line">  &lt;item name=<span class="string">"custom_text"</span>&gt;aiyaya..<span class="class">.SuperStyleOne</span><span class="class">.SubThree</span>..<span class="class">.parent</span><span class="class">.SuperStyleTwo</span>&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CustomTextView</span></span><br><span class="line"><span class="keyword">public</span> CustomTextView(Context context, AttributeSet attrs, <span class="built_in">int</span> defStyleAttr) &#123;</span><br><span class="line">  <span class="keyword">super</span>(context, attrs, defStyleAttr);</span><br><span class="line"></span><br><span class="line">  TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.CustomStyle);</span><br><span class="line">  <span class="built_in">int</span> <span class="built_in">color</span> = typedArray.getColor(R.styleable.CustomStyle_custom_color, Color.RED);</span><br><span class="line">  CharSequence <span class="built_in">text</span> = typedArray.getString(R.styleable.CustomStyle_custom_text);</span><br><span class="line">  <span class="built_in">float</span> dimension = typedArray.getDimension(R.styleable.CustomStyle_custom_size, <span class="number">50</span>);</span><br><span class="line">  typedArray.recycle();</span><br><span class="line"></span><br><span class="line">  setText(<span class="built_in">text</span>);</span><br><span class="line">  setTextColor(<span class="built_in">color</span>);</span><br><span class="line">  setTextSize(dimension);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>当使用parent制定父style后，前缀方法则不再起作用，只是作为style的名字。（android的style不支持多继承）</li>
</ul>


			
            <section class="comment">
<!-- 多说评论框 start -->
<!-- 多说公共JS代码 end -->
</section>




        </div>
    </div>
</article>


    <footer id="footer">
    <div id="bottom-tip">
        senbaisang —— <small>cooooooooder</small>
    </div>
        <small>该博客由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动，搭载 <a href="https://github.com/XadillaX/hexadillax" target="_blank">Hexadillax</a> 主题</small><br />
        <small>&copy; 2015 Sally</small>
    </footer>

    


</body>
</html>


