


<!DOCTYPE html>
<html lang="zh-CN">
<head>
    
    <meta name="author" content="Sally">
    
    <meta name="description" content="常用基本命令
w 显示目前登录系统的用户信息
who 显示目前登录系统的用户信息 whoami
last 显示近期用户或终端的登录情况 /var/log/wtmp
lastlog 查看所有用户最近一次登录信息 /var/log/lastlog

ctrl+u 清除当前输入的命令

ctrl+z 后台">
    
    

    
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Linux - 基本命令 | senbaisang · cooooooooder</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">

    

    <!-- Javascript -->
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="/js/jquery.backstretch.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/jquery.headroom.min.js"></script>
    <script src="/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://senbaisang.github.io" title="senbaisang">senbaisang</a>
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                <p class="navbar-text pull-right">cooooooooder</p>

                <ul class="nav navbar-nav">
                    
                    <li id="nav-index"><a href="/">首页</a></li>
                    
                    <li id="nav-archives"><a href="/archives">归档</a></li>
                    
                    <li id="nav-tags"><a href="/tags">标签</a></li>
                    
                    <li id="nav-categories"><a href="/categories">分类</a></li>
                    

                    <li><a href="https://github.com/senbaisang" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <script>
    var backRoot = "/images/background/";
    var backArray = [ "1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg", "6.jpg", "8.jpg",  ];

    $(function() {
        // page-id...
        var pageId = "2016/07/01/Linux-基本命令/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";

        $("#nav-" + pageId).addClass("active");
    });
    </script>


  <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>Linux - 基本命令</h1>

        <div class="time-info">
发表于:<time datetime="2016-07-01T07:30:12.000Z" itemprop="datePublished">2016-07-01</time>，更新于:<time datetime="2017-08-26T14:04:16.000Z" itemprop="dateModified">2017-08-26</time>，By <a href="http://senbaisang.github.io" title="Sally">Sally</a>
        </div>

        <div class="post-body-inner">
            <div id="toc" class="toc-article well">
                <strong class="toc-title">大纲</strong>
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#常用基本命令"><span class="toc-number">1.</span> <span class="toc-text">常用基本命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ls_[选项]_[参数]"><span class="toc-number">1.1.</span> <span class="toc-text">ls [选项] [参数]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mkdir_创建文件夹"><span class="toc-number">1.2.</span> <span class="toc-text">mkdir 创建文件夹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cd_进入目录"><span class="toc-number">1.3.</span> <span class="toc-text">cd 进入目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pwd_:_print_working_directories"><span class="toc-number">1.4.</span> <span class="toc-text">pwd :  print working directories</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#链接ln(link)_:_ln_source_file_target_file"><span class="toc-number">1.5.</span> <span class="toc-text">链接ln(link) : ln source_file target_file</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文件搜索"><span class="toc-number">2.</span> <span class="toc-text">文件搜索</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#locate_文件搜索命令"><span class="toc-number">2.1.</span> <span class="toc-text">locate 文件搜索命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#whereis_|_which_搜索命令的命令"><span class="toc-number">2.2.</span> <span class="toc-text">whereis | which 搜索命令的命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#find_文件搜索命令"><span class="toc-number">2.3.</span> <span class="toc-text">find 文件搜索命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#grep_字符串搜索命令:_在文件中匹配符合条件的字符串"><span class="toc-number">2.4.</span> <span class="toc-text">grep 字符串搜索命令: 在文件中匹配符合条件的字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#find_与_grep_的区别"><span class="toc-number">2.5.</span> <span class="toc-text">find 与 grep 的区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文件/文件夹压缩_-zip_-gz_-bz2_-tar-gz_-tar-bz2"><span class="toc-number">3.</span> <span class="toc-text">文件/文件夹压缩 .zip .gz .bz2 .tar.gz .tar.bz2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#-zip_格式压缩文件"><span class="toc-number">3.1.</span> <span class="toc-text">.zip 格式压缩文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-gz_格式压缩_：_压缩目录下的子文件"><span class="toc-number">3.2.</span> <span class="toc-text">.gz 格式压缩 ： 压缩目录下的子文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-bz2_格式_：_不能压缩目录"><span class="toc-number">3.3.</span> <span class="toc-text">.bz2 格式 ： 不能压缩目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打包成-tar"><span class="toc-number">3.4.</span> <span class="toc-text">打包成.tar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-tar-gz_格式"><span class="toc-number">3.5.</span> <span class="toc-text">.tar.gz 格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-tar-bz2_格式"><span class="toc-number">3.6.</span> <span class="toc-text">.tar.bz2 格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一些小技巧"><span class="toc-number">3.7.</span> <span class="toc-text">一些小技巧</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#关机和重启"><span class="toc-number">4.</span> <span class="toc-text">关机和重启</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#系统运行级别"><span class="toc-number">4.1.</span> <span class="toc-text">系统运行级别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查询和自动挂载"><span class="toc-number">5.</span> <span class="toc-text">查询和自动挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#挂载命令"><span class="toc-number">5.1.</span> <span class="toc-text">挂载命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#挂载光盘"><span class="toc-number">5.2.</span> <span class="toc-text">挂载光盘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#卸载命令"><span class="toc-number">5.3.</span> <span class="toc-text">卸载命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#系统目录结构"><span class="toc-number">6.</span> <span class="toc-text">系统目录结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#shell"><span class="toc-number">7.</span> <span class="toc-text">shell</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#echo_输出命令"><span class="toc-number">7.1.</span> <span class="toc-text">echo 输出命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看历史_history"><span class="toc-number">7.2.</span> <span class="toc-text">查看历史 history</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#输出重定向"><span class="toc-number">7.3.</span> <span class="toc-text">输出重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#输入重定向"><span class="toc-number">7.4.</span> <span class="toc-text">输入重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多命令顺序执行"><span class="toc-number">7.5.</span> <span class="toc-text">多命令顺序执行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bash中的其他特殊符号"><span class="toc-number">7.6.</span> <span class="toc-text">bash中的其他特殊符号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell变量"><span class="toc-number">7.7.</span> <span class="toc-text">shell变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#位置参数变量"><span class="toc-number">7.7.1.</span> <span class="toc-text">位置参数变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#预定义变量"><span class="toc-number">7.7.2.</span> <span class="toc-text">预定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接收键盘输入"><span class="toc-number">7.7.3.</span> <span class="toc-text">接收键盘输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#declare_声明变量类型"><span class="toc-number">7.7.4.</span> <span class="toc-text">declare 声明变量类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串处理"><span class="toc-number">7.7.5.</span> <span class="toc-text">字符串处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符处理"><span class="toc-number">7.7.6.</span> <span class="toc-text">字符处理</span></a></li></ol></li></ol></li></ol>
            </div>

            <h1 id="常用基本命令">常用基本命令</h1><ul>
<li>w 显示目前登录系统的用户信息</li>
<li>who 显示目前登录系统的用户信息 whoami</li>
<li>last 显示近期用户或终端的登录情况 /var/log/wtmp</li>
<li><p>lastlog 查看所有用户最近一次登录信息 /var/log/lastlog</p>
</li>
<li><p>ctrl+u 清除当前输入的命令</p>
</li>
<li><p>ctrl+z 后台执行命令</p>
</li>
<li><p>df -h 查看系统分区的使用情况</p>
</li>
</ul>
<hr>
<h2 id="ls_[选项]_[参数]">ls [选项] [参数]</h2><p>  -l 显示详细信息<br>  -a 显示所有文件，包括隐藏文件<br>  -d 显示目录属性<br>  -h 人性化显示文件大小<br>  -i 显示inode</p>
<ul>
<li>ls &gt; xxx.md 将(ls)命令执行的结果写入文件</li>
</ul>
<h2 id="mkdir_创建文件夹">mkdir 创建文件夹</h2><p>  mkdir directory<br>  mkdir -p directory : 递归创建</p>
<h2 id="cd_进入目录">cd 进入目录</h2><p>  cd - 进入上次所在目录</p>
<h2 id="pwd_:_print_working_directories">pwd :  print working directories</h2><h2 id="链接ln(link)_:_ln_source_file_target_file">链接ln(link) : ln source_file target_file</h2><ul>
<li>link 硬链接</li>
<li>link -s 软链接<blockquote>
<p><code>软链接</code>，如果原文件和目标文件在同一目录中，可以不写绝对路径；如果不在同一目录，必须写绝对路径。不过建议在创建软链接的时候都使用绝对路径。<br><code>硬链接</code>存储的是源文件的inode，源文件如果被删除，硬链接文件依旧可以使用。<br><code>软链接</code>存储的是源文件的文件名，源文件换个地方，软链接就不可用了；源文件被删除，软链接也就不可用了；源文件删除，重新创建一个同名文件，此时软链接再次可用，但此时硬链接与软链接内容已经不同，因为源文件是重新创建的，它的inode已经变了，而硬链接还是原来的inode。</p>
</blockquote>
</li>
</ul>
<h1 id="文件搜索">文件搜索</h1><h2 id="locate_文件搜索命令">locate 文件搜索命令</h2><p>  locate命令搜索的后台数据库： /var/lib/mlocate<br>  默认数据库每天更新一次，可以执行updatedb更新数据库，并且只能根据<em>文件名</em>搜索，按照/etc/updatedb.conf配置文件的规则进行搜索</p>
<h2 id="whereis_|_which_搜索命令的命令">whereis | which 搜索命令的命令</h2><p>  <b>搜索命令所在的路径以及帮助文档所在的位置 (whereis | whatis | whoami)</b></p>
<p>  同样遵守/etc/updatedb.conf的搜索规则<br>  -b 只查找可执行文件<br>  -m 只查找帮助文档<br>  <i> which 能看到命令的路径，如果命令有别名，并显示别名。</i></p>
<h2 id="find_文件搜索命令">find 文件搜索命令</h2><ul>
<li>find [搜索范围] [搜索条件] : find / -name install.log 根目录下名称为install.log的文件</li>
<li>find / -iname install.log : -i 不区分大小写</li>
<li>find / -user root : 根据所有者搜索文件，属于root用户的文件</li>
<li>find / -nouser : 搜索没有所有者的文件(基本上，没有所有者的文件是垃圾文件)</li>
<li><p>find /var/log -mtime +10 : 查找10天前修改的文件</p>
<ul>
<li>-10 10天内修改的文件</li>
<li>10  10天当天修改的文件</li>
<li>+10 10前修改的文件</li>
<li>atime(access time) 文件访问时间。即文件读取或执行的时间。</li>
<li>ctime(change time) 改变文件属性时间，指文件i节点被修改的时间，如通过chomd修改文件属性，就会修改ctime时间。</li>
<li>mtime(modify time) 修改文件时间。</li>
</ul>
</li>
<li><p>可以通过<em>stat 文件名</em> 查看文件的atime, ctime, mtime</p>
</li>
<li>find . -size 25k : 按文件大小搜索<ul>
<li>+25k -25k 25k 大于小于等于25k<blockquote>
<p>注：千字节k小写，兆字节M大写</p>
</blockquote>
</li>
</ul>
</li>
<li>find . -inum 23343 : 按照i节点查找文件</li>
<li>find /etc -size +20k -a -size -50k : 搜索大小在20-50k之间的文件 (-a and 逻辑与)</li>
<li>find /etc -size -20k -o -size +50k : 搜索小于20k以及大于50k的文件 (-o or 逻辑或)</li>
<li>find /etc -size +20k -a -size -50k -exec ls -lh {} \; : 第一个命令搜索到的结果交给后面的命令处理，{} \; 必须带上，语法要求。</li>
</ul>
<h2 id="grep_字符串搜索命令:_在文件中匹配符合条件的字符串">grep 字符串搜索命令: 在文件中匹配符合条件的字符串</h2><ul>
<li>grep [选项] 字符串 文件名<br>-i : 忽略大小写<br>-v 排除指定字符串 (搜索条件取反搜索)</li>
</ul>
<h2 id="find_与_grep_的区别">find 与 grep 的区别</h2><ul>
<li>find 在系统中搜索符合条件的文件名，如果需要匹配，使用通配符匹配，<code>通配符是完全匹配</code>。</li>
<li>grep 在文件中搜索符合条件的字符串，如果需要匹配，使用正则表达式进行匹配，<code>正则表达式是包含匹配</code>。</li>
</ul>
<h1 id="文件/文件夹压缩_-zip_-gz_-bz2_-tar-gz_-tar-bz2">文件/文件夹压缩 .zip .gz .bz2 .tar.gz .tar.bz2</h1><h2 id="-zip_格式压缩文件">.zip 格式压缩文件</h2><ul>
<li>压缩文件：zip 压缩文件名 源文件</li>
<li>压缩文件夹：zip -r 压缩文件名 源目录</li>
<li>解压缩文件/文件夹：unzip 压缩文件名</li>
</ul>
<h2 id="-gz_格式压缩_：_压缩目录下的子文件">.gz 格式压缩 ： 压缩目录下的子文件</h2><ul>
<li>不保留源文件压缩文件：gzip 源文件 (压缩为.gz格式的压缩文件，源文件会消失)</li>
<li>保留源文件压缩文件：gzip -c 源文件 &gt; 压缩文件 (压缩为.gz格式，源文件保留)</li>
<li>gzip -r 目录：(压缩目录下的所有子文件，但是不压缩目录本身)</li>
<li>解压缩：gzip -d 压缩文件</li>
<li>解压缩：gunzip 压缩文件</li>
<li>gunzip -r 目录：(解压目录中所有的压缩文件)</li>
</ul>
<h2 id="-bz2_格式_：_不能压缩目录">.bz2 格式 ： 不能压缩目录</h2><ul>
<li>不保留源文件压缩：bzip2 源文件</li>
<li>保留源文件压缩：bzip2 -k 源文件</li>
<li>解压缩：bzip2 -d 压缩文件 (-k 保留压缩文件)</li>
<li>解压缩：bunzip2 压缩文件 (-k 保留压缩文件)</li>
</ul>
<h2 id="打包成-tar">打包成.tar</h2><ul>
<li><p>打包<br>tar -cvf 打包文件名 源文件 (-c打包  -v显示过程 -f指定打包的文件名)<br>eg: tar -cvf cangls.tar cangls<br>然后使用gzip bzip2压缩/解压缩打包文件</p>
</li>
<li><p>解包<br>tar -xvf 打包文件名 (-x解打包)<br>eg: tar -xvf cangls.tar</p>
</li>
</ul>
<h2 id="-tar-gz_格式">.tar.gz 格式</h2><ul>
<li>tar -zcvf 压缩包名.tar.gz 源文件 (-z 压缩为.tar.gz格式)</li>
<li>tar -zxvf 压缩包名.tar.gz (解压缩)</li>
</ul>
<h2 id="-tar-bz2_格式">.tar.bz2 格式</h2><ul>
<li>tar -jcvf 压缩包名.tar.bz2 源文件 (-j压缩为.tar.bz2格式)</li>
<li>tar -jxvf 压缩包名.tar.bz2 (解压缩)</li>
</ul>
<h2 id="一些小技巧">一些小技巧</h2><ul>
<li>tar -jxvf 压缩包名.tar.bz2 -C /temp/ (-C指定解压到指定目录)</li>
<li>tar -jcvf /temp/压缩包名.tar.bz2 源文件1 源文件2 (压缩多个文件到指定文件夹)</li>
<li>tar -ztvf text.tar.gz (-t只查看，不解压缩)</li>
</ul>
<h1 id="关机和重启">关机和重启</h1><ul>
<li><p>shutdown : 还是比较安全的，会在关机和重启时保存工作状态<br>-c 取消前一个关机民兵<br>-h 关机： shutdown -h now<br>-r 重启： shutdown -r now</p>
</li>
<li><p><code>shutdown -h now&amp;</code>其中的<code>&amp;</code>符号表示：将命令放在后台执行</p>
</li>
<li><p>其他关机命令: halt | poweroff | init 0</p>
</li>
<li>重启命令:     reboot | init 6</li>
<li>退出登录:     logout</li>
</ul>
<h2 id="系统运行级别">系统运行级别</h2><ul>
<li>0 关机</li>
<li>1 单用户</li>
<li>2 不完全多用户，不含NFS服务</li>
<li>3 完全多用户</li>
<li>4 未分配</li>
<li>5 图形界面</li>
<li>6 重启</li>
</ul>
<h1 id="查询和自动挂载">查询和自动挂载</h1><ul>
<li>mount 查询系统中已经挂载的</li>
<li>mount -a 依据配置文件/etc/fstab的内容，自动挂载</li>
</ul>
<h2 id="挂载命令">挂载命令</h2><ul>
<li>mount [-t 文件系统] [-o 特殊选项] 设备文件名(/hda1) 挂载点(类似windows下的盘符)<ul>
<li>-t 文件系统：加入文件系统类型来指定挂载的类型，可以是ext3, ext4, iso9660等文件系统</li>
<li>-o 特殊选项：指定挂载的额外选项(这里有个栗子，将某个挂载点特殊选项的exec属性指定为noexec，存储在该目录下的所有文件都不可执行了，报错：权限不够。ps：默认是exec，可执行的。)</li>
</ul>
</li>
<li>remount 重新挂载</li>
</ul>
<h2 id="挂载光盘">挂载光盘</h2><ul>
<li>先将光盘插入光驱</li>
<li>建立挂载点：mkdir /mnt/cdrom/</li>
<li>挂载光盘 ：mount -t iso9660 /dev/sr0 /mnt/cdrom</li>
</ul>
<h2 id="卸载命令">卸载命令</h2><ul>
<li>umount 设备文件名/挂载点 : umount /dev/sro   or   umount /mnt/cdrom/</li>
</ul>
<h1 id="系统目录结构">系统目录结构</h1><ul>
<li><p>用来保存系统命令的 根(/)目录下的/bin /sbin ; usr/目录下的 /bin /sbin<br>/bin : 目录下的命令普通用户可以使用<br>/sbin : 目录下的命令超级用户使用</p>
</li>
<li><p>/boot 启动目录</p>
</li>
<li><p>/dev 设备文件</p>
</li>
<li><p>/etc 配置文件目录</p>
</li>
<li><p>/home 普通用户目录</p>
</li>
<li><p>/root 超级用户目录</p>
</li>
<li><p>/lib 函数库</p>
</li>
</ul>
<h1 id="shell">shell</h1><h2 id="echo_输出命令">echo 输出命令</h2><p>echo [选项] [输出内容] : 将指定内容输出到控制台</p>
<table>
<thead>
<tr>
<th>控制字符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>\a</td>
<td>输出警告音</td>
</tr>
<tr>
<td>\b</td>
<td>退格键(向左删除键)</td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
</tr>
<tr>
<td>\r</td>
<td>回车符</td>
</tr>
<tr>
<td>\t</td>
<td>水平制表符</td>
</tr>
<tr>
<td>\v</td>
<td>垂直制表符</td>
</tr>
<tr>
<td>\0???</td>
<td>按照八进制ASCII码表输出字符</td>
</tr>
<tr>
<td>\x???</td>
<td>按照八进制ASCII码表输出字符</td>
</tr>
</tbody>
</table>
<p>eg: echo -e “hello\tworld” #&gt; hello world</p>
<ul>
<li>写一个shell脚本 : hello.sh</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="operator">-e</span> <span class="string">"\e[1;33m 我就是爱音乐，别叫我停下来 \e[0m"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>执行脚本</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. 将文件权限修改为可执行，然后输入文件路径即可执行</span><br><span class="line"><span class="number">2</span>. 使用bash hello<span class="class">.sh</span> (上面的例子将文字带颜色输出，我在mac上运行，bash hello<span class="class">.sh</span> 内容原样输出，我用zsh hello<span class="class">.sh</span> 会输出带色的文字)</span><br></pre></td></tr></table></figure>
<p><img alt="echo_show" style="left:1em; top:2em;" src="/images/linux_basic_1.png"></p>
<h2 id="查看历史_history">查看历史 history</h2><p>history [选项] [历史命令保存文件] : 历史命令存在 .zsh_history/.bash_history中</p>
<ul>
<li>-c 清空历史纪录</li>
<li><p>-w 将命令写入 .zsh_history/.bash_history文件中</p>
</li>
<li><p>!n : 执行第n条命令(n代表行数)</p>
</li>
<li>!! : 执行上一条命令</li>
<li>!字符串 : 执行以该字符串开头的命令</li>
</ul>
<h2 id="输出重定向">输出重定向</h2><p>| 标准输入       |  /dev/stdin    |  0  |<br>| 标准输出       | /dev/stdout    |  1  |<br>| 标准错误输出   | /dev/stderr    |  2  |</p>
<ul>
<li>输出正确信息</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>命令 &gt; 文件   <span class="comment"># 覆盖输出</span></span><br><span class="line"><span class="variable">$ </span>命令 <span class="prompt">&gt;&gt; </span>文件  <span class="comment"># 追加输出</span></span><br></pre></td></tr></table></figure>
<ul>
<li>输出错误信息</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>命令 <span class="number">2</span>&gt; 文件  <span class="comment"># 覆盖输出</span></span><br><span class="line"><span class="variable">$ </span>命令 <span class="number">2</span><span class="prompt">&gt;&gt; </span>文件 <span class="comment"># 追加输出</span></span><br></pre></td></tr></table></figure>
<ul>
<li>输出正确&amp;错误信息到同一个文件</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 法1</span></span><br><span class="line"><span class="variable">$ </span>命令 &gt;  文件 <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"><span class="variable">$ </span>命令 <span class="prompt">&gt;&gt; </span>文件 <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 法2</span></span><br><span class="line"><span class="variable">$ </span>命令 &amp;&gt;文件</span><br><span class="line"><span class="variable">$ </span>命令 &amp;<span class="prompt">&gt;&gt;</span>文件</span><br></pre></td></tr></table></figure>
<ul>
<li>正确&amp;错误信息分开输出</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ 命令 &gt;&gt;文件<span class="number">1</span> <span class="number">2</span>&gt;&gt;文件<span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>将执行结果直接丢掉</li>
</ul>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>ls(命令) &amp;&gt; <span class="regexp">/dev/null</span> <span class="comment">#有时候，执行脚本不需要看执行过程信息，就使用该方法</span></span><br></pre></td></tr></table></figure>
<h2 id="输入重定向">输入重定向</h2><p>wc [选项] [文件名]</p>
<ul>
<li>-c 统计字节数</li>
<li>-w 统计单词数</li>
<li>-l 统计行数</li>
</ul>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按ctrl+d退出</span></span><br><span class="line"><span class="variable">$ </span>wc &lt; 文件名  <span class="comment"># 显示文件的统计结果</span></span><br><span class="line"><span class="variable">$ </span>wc &lt;&lt; <span class="keyword">end</span>(标志符) <span class="comment"># 统计标志符之间输入的字符</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/linux_basic_2.png" alt="std_in_demo" style="lelt:1em; top:1em;"></p>
<h2 id="多命令顺序执行">多命令顺序执行</h2><ul>
<li><code>;</code>  ;  命令1; 命令2    ;  多个命令顺行执行，命令之间没有逻辑关系</li>
<li><code>&amp;&amp;</code> ;  命令1 &amp;&amp; 命令2  ;  命令1正确执行，命令2才能执行</li>
<li><code>||</code> ;  命令1 || 命令2  ;  命令1不正确执行，命令2才执行</li>
</ul>
<p><code>管道符 |</code>，命令1 | 命令2 : 将命令1执行的结果作为命令2执行的对象</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># netstat 显示各种网络相关信息，如网络连接，路由表，接口状态(interface staticstics)，masquerade连接，多播成员(Multicast Memberships)；</span></span><br><span class="line"><span class="preprocessor"># ESTABLISHED 过滤已连接状态；</span></span><br><span class="line">netstat -an | grep <span class="string">'ESTABLISHED'</span> | wc -l</span><br></pre></td></tr></table></figure>
<h2 id="bash中的其他特殊符号">bash中的其他特殊符号</h2><table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘’</td>
<td>单引号。在单引号中所有的特殊符号没有特殊含义，仅仅是个符号而已。</td>
</tr>
<tr>
<td>“”</td>
<td>双引号。在双引号中特殊符号都没有特殊含义，但是”$”，”`”和”\”是例外，拥有调用变量值，引用命令，转义符的特殊含义。</td>
</tr>
<tr>
<td>``</td>
<td>反引号。反引号扩起来的内容是系统命令，在bash中会先执行它。和$()作用一样。</td>
</tr>
<tr>
<td>$()</td>
<td>和反引号作用一样，用来引用系统命令。</td>
</tr>
<tr>
<td>#</td>
<td>在shell脚本中，#开头的代表行注释。</td>
</tr>
<tr>
<td>$</td>
<td>用于调用变量的值，如需要调用变量name的值时，需要用$name的方式得到变量的值。</td>
</tr>
<tr>
<td>\</td>
<td>转义符。</td>
</tr>
</tbody>
</table>
<h2 id="shell变量">shell变量</h2><p>自定义变量，环境变量，位置参数变量，预定义变量<br>自定义变量是局部变量，环境变量是全局变量</p>
<ul>
<li>变量叠加</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">123</span> <span class="preprocessor">#=&gt; echo $x : <span class="number">123</span></span></span><br><span class="line">x=<span class="string">"$x"</span><span class="number">456</span> <span class="preprocessor">#=&gt; echo $x : <span class="number">123456</span></span></span><br><span class="line">x=$&#123;x&#125;<span class="number">789</span> <span class="preprocessor">#=&gt; echo $x : <span class="number">123456789</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>变量查看</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> [选项]</span><br><span class="line">-u 如果设定此选项，调用未声明变量时会报错(默认无任何提示)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看环境变量</span></span><br><span class="line">env</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除变量</span></span><br><span class="line"><span class="built_in">unset</span> 变量名 eg:<span class="built_in">unset</span> x</span><br></pre></td></tr></table></figure>
<p><img alt="variable_show" style="left:1em; top:2em;" src="/images/linux_basic_variable.png"></p>
<ul>
<li>设置环境变量</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> 变量名=变量值</span><br><span class="line"><span class="keyword">or</span></span><br><span class="line">变量名=变量值</span><br><span class="line"><span class="keyword">export</span> 变量名</span><br></pre></td></tr></table></figure>
<ul>
<li>locale</li>
</ul>
<p>Locale是根据计算机用户所使用的语言，所在国家或者地区，以及当地的文化传统所定义的一个软件运行时的语言环境。</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="variable">$LANG</span> 查看当前语系环境</span><br><span class="line">locale -a | more 查看linux支持的所有语系环境</span><br><span class="line">/etc/sysconfig/i18n  系统默认语系环境</span><br></pre></td></tr></table></figure>
<h3 id="位置参数变量">位置参数变量</h3><table>
<thead>
<tr>
<th>位置参数变量</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>$n</td>
<td>n为数字，$0代表命令本身，$1-$9代表第一到第九个参数，十以上的参数用大括号表示${10}</td>
</tr>
<tr>
<td>$*</td>
<td>这个变量代表命令行中所有的参数，$*把所有的参数看成<code>一个整体</code></td>
</tr>
<tr>
<td>$@</td>
<td>这个变量也代表命令行中所有的参数，不过$@把每个参数<code>区分对待</code></td>
</tr>
<tr>
<td>$#</td>
<td>这个变量代表命令行中所有的参数的个数</td>
</tr>
</tbody>
</table>
<ul>
<li>运算demo</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># calculate.sh</span></span><br><span class="line"><span class="shebang">#!/bin/bash</span></span><br><span class="line">sum1=<span class="variable">$1</span></span><br><span class="line">sum2=<span class="variable">$2</span></span><br><span class="line">sum=$((<span class="variable">$sum1</span>+<span class="variable">$sum2</span>))</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$sum</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># 代码文件 calcul.sh</span></span><br><span class="line">echo <span class="string">"\$* 的参数：$*"</span></span><br><span class="line">echo <span class="string">"\$@ 的参数：$@"</span></span><br><span class="line">echo <span class="string">"\$# 的参数：$#"</span></span><br><span class="line"></span><br><span class="line">$ ~/calcul.sh <span class="number">11</span> <span class="number">22</span> <span class="number">33</span> <span class="number">44</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 以下是输出</span></span><br><span class="line">$* 的参数：<span class="number">11</span> <span class="number">22</span> <span class="number">33</span> <span class="number">44</span></span><br><span class="line">$@ 的参数：<span class="number">11</span> <span class="number">22</span> <span class="number">33</span> <span class="number">44</span></span><br><span class="line">$<span class="preprocessor"># 的参数：<span class="number">4</span></span></span><br></pre></td></tr></table></figure>
<h3 id="预定义变量">预定义变量</h3><table>
<thead>
<tr>
<th>预定义变量</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>$?</td>
<td>最后一次执行的命令的返回状态。如果变量值为0，上一条命令正确执行；如果非0，则上一条命令执行不正确</td>
</tr>
<tr>
<td>$$</td>
<td>当前晋城的进程号(PID)</td>
</tr>
<tr>
<td>$!</td>
<td>后台运行的最后一个进程的进程号(PID)</td>
</tr>
</tbody>
</table>
<blockquote>
<p>命令后面跟上<code>&amp;</code>符号，是指将该命令放在后台执行。<br>ps aux 查看进程</p>
</blockquote>
<h3 id="接收键盘输入">接收键盘输入</h3><p>read [选项] [变量名]</p>
<ul>
<li>-p “提示信息”: 在等待read输入时，输出的提示信息</li>
<li>-t 秒数: read命令会一直等待用户输入，使用此选项可以指定等待时间</li>
<li>-n 字符数: read命令只接受指定的字符数，就会执行</li>
<li>-s : 隐藏输入的数据，适用于机密信息的输入，如密码</li>
</ul>
<h3 id="declare_声明变量类型">declare 声明变量类型</h3><p>declare [+/-] [选项] 变量名</p>
<ul>
<li><ul>
<li>: 给变量设定类型属性</li>
</ul>
</li>
<li><ul>
<li>: 取消变量的类型属性</li>
</ul>
</li>
<li>-a : 将变量声明为数组类型</li>
<li>-i : 将变量声明为整数类型</li>
<li>-x : 将变量声明为环境变量   (与export命令类似，export默认执行的还是declare -x命令)</li>
<li>-r : 将变量声明为只读变量   (只要将变量设置为只读的，那就完了=_=||| 不可编辑，不可删除，不可取消变量类型ps除非操作配置文件删除)</li>
<li>-p : 显示指定变量被声明的类型</li>
<li>…</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line">b=<span class="number">2</span></span><br><span class="line">c=<span class="variable">$a</span>+<span class="variable">$b</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$c</span>   <span class="comment">#=&gt; 1+2</span></span><br><span class="line"></span><br><span class="line">a=<span class="number">1</span></span><br><span class="line">b=<span class="number">2</span></span><br><span class="line"><span class="built_in">declare</span> -i c=<span class="variable">$a</span>+<span class="variable">$b</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$c</span>   <span class="comment">#=&gt; 3</span></span><br></pre></td></tr></table></figure>
<p>声明数组变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">movie[<span class="number">0</span>]=zp</span><br><span class="line">movie[<span class="number">1</span>]=tp</span><br><span class="line"><span class="built_in">declare</span> <span class="operator">-a</span> movie[<span class="number">2</span>]=live</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;movie&#125;</span>     <span class="comment">#=&gt; 默认查看数组第一个值</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;movie[2]&#125;</span>  <span class="comment">#=&gt; 查看指定下标的值</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;movie[*]&#125;</span>  <span class="comment">#=&gt; 查看数组中所有的值</span></span><br></pre></td></tr></table></figure>
<p>expr | let 数值运算工具</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line">b=<span class="number">2</span></span><br><span class="line">c=$(expr <span class="variable">$a</span> + <span class="variable">$b</span>) <span class="comment"># 注意＋两边的空格，不能省略；不带空格，就是字符串拼接</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$c</span>    <span class="comment">#=&gt; 3</span></span><br></pre></td></tr></table></figure>
<p><code>$((运算符))</code> -  数值运算<br><code>$()</code> - aa=$(date)  #将命令运行的结果，赋值给变量</p>
<h3 id="字符串处理">字符串处理</h3><ul>
<li><p>cut [选项] 文件名</p>
<ul>
<li>-f 列号：提取第几列</li>
<li>-d 分隔符：默认是水平制表符</li>
</ul>
</li>
<li><p><code>df -h</code> 查看系统分区的使用情况。cut命令不能识别df的不规则空格分隔，所以使用awk查看</p>
</li>
<li><p>awk ‘条件1{动作1} 条件2{动作2} …’ 文件名</p>
</li>
<li>awk ‘BEGIN{动作} 条件{动作} …’ 文件名 : 先执行begin的动作</li>
<li>awk ‘END{动作} 条件{动作} …’ 文件名 : 最后执行end的动作</li>
<li>awk ‘{print $2 “\t” $4 “\n”}’ readme.txt : 打印readme.txt文件中的第二，四列</li>
</ul>
<p>-sed [选项] ‘[动作]’ 文件名</p>
<ul>
<li>选项</li>
<li>-n ：一般sed命令会把所有数据都输出到屏幕上，如果加入此选项，只会将经过sed处理的行输出到屏幕上</li>
<li>-e ：允许对输入数据应用多条sed命令编辑</li>
<li>-i ：用sed的修改结果直接修改读取数据的文件，而不是由屏幕输出(源文件会被修改，使用需谨慎)</li>
<li>动作</li>
<li>-a ：追加，在当前行后添加一行或多行</li>
<li>-c ：行替换，用c后面的字符串替换原数据行</li>
<li>-i ：插入，在当前行之前插入一行或多行</li>
<li>-d ：删除，删除指定行</li>
<li>-p ：打印，输出指定的行</li>
<li><p>-s ：字符串替换，用一个字符串替换另一个字符串</p>
</li>
<li><p>eg: sed -n ‘2p’ readme.txt : 查看文件第二行(如果没有-n，显示全文)</p>
</li>
</ul>
<h3 id="字符处理">字符处理</h3><ul>
<li><p>sort [选项] 文件名</p>
<ul>
<li>-f 忽略大小写</li>
<li>-n 以数值型进行排序，默认使用字符串型排序</li>
<li>-r 反向排序</li>
<li>-t 指定分隔符，默认是水平制表符</li>
<li>-k n,m 按照指定的字段范围排序，从n到m</li>
</ul>
</li>
<li><p>wc [选项] 文件名</p>
<ul>
<li>-l 只统计行数</li>
<li>-w 只统计单词数</li>
<li>-m 只统计字符数</li>
</ul>
</li>
</ul>


			
            <section class="comment">
<!-- 多说评论框 start -->
<!-- 多说公共JS代码 end -->
</section>




        </div>
    </div>
</article>


    <footer id="footer">
    <div id="bottom-tip">
        senbaisang —— <small>cooooooooder</small>
    </div>
        <small>该博客由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动，搭载 <a href="https://github.com/XadillaX/hexadillax" target="_blank">Hexadillax</a> 主题</small><br />
        <small>&copy; 2015 Sally</small>
    </footer>

    


</body>
</html>


